<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel do BibliotecÃ¡rio</title>

  <!-- CSS base (layout + componentes compartilhados) -->
  <link rel="stylesheet" href="base.css" />

  <!-- CSS por aba -->
  <link rel="stylesheet" href="resumo.css" />
  <link rel="stylesheet" href="livros.css" />
  <link rel="stylesheet" href="usuarios.css" />
  <link rel="stylesheet" href="emprestimos.css" />
</head>
<body>
  <aside class="sidebar">
    <h2>Biblioteca</h2>
    <ul>
      <li class="active" data-section="resumo">ðŸ“Š Resumo</li>
      <li data-section="livros">ðŸ“š Gerenciar Livros</li>
      <li data-section="usuarios">ðŸ‘¥ Gerenciar UsuÃ¡rios</li>
      <li data-section="emprestimos">ðŸ“¦ EmprÃ©stimos e DevoluÃ§Ãµes</li>
      <li id="logout">ðŸšª Logout</li>
    </ul>
  </aside>

  <main class="main">
    <header class="page-header">
      <h1>Painel do BibliotecÃ¡rio</h1>
      <p>Biblioteca Escolar</p>
    </header>

    <!-- Resumo -->
    <section id="resumo" class="section-pad active-section">
      <h2>VisÃ£o Geral</h2>

      <div class="cards-grid">
        <div class="dash-card" id="cardLivros">
          <h3>ðŸ“š Livros cadastrados</h3>
          <p id="livrosCount">0</p>
        </div>

        <div class="dash-card" id="cardUsuarios">
          <h3>ðŸ‘¤ UsuÃ¡rios</h3>
          <p id="usuariosCount">0</p>
        </div>

        <div class="dash-card" id="cardEmprestimos">
          <h3>ðŸ“˜ EmprÃ©stimos ativos</h3>
          <p id="emprestimosCount">0</p>
        </div>
      </div>

      <!-- Ã¡rea dinÃ¢mica (tabelas) -->
      <div id="areaDetalhes"></div>

      <!-- RelatÃ³rios (botÃ£o/tabela opcionais, se vocÃª jÃ¡ usava) -->
      <div style="margin-top:16px">
        <button class="btn secondary" id="btnEmprestimosMes">EmprÃ©stimos deste mÃªs</button>
      </div>
      <div id="tabelaEmprestimosContainer" class="tabela-oculta" style="margin-top:12px">
        <table class="data-table">
          <thead>
            <tr>
              <th>UsuÃ¡rio</th>
              <th>MatrÃ­cula</th>
              <th>Livro</th>
              <th>Data EmprÃ©stimo</th>
              <th>Data DevoluÃ§Ã£o</th>
            </tr>
          </thead>
          <tbody id="tabelaEmprestimosMes"></tbody>
        </table>
        <div style="margin-top:8px">Total no mÃªs: <strong id="emprestimosMesCount">0</strong></div>
      </div>
    </section>

    <!-- Gerenciar Livros -->
    <section id="livros" class="section-pad">
      <div class="section-title-row">
        <h2>Gerenciar Livros</h2>
        <div class="search-row">
          <input id="buscaLivros" type="search" placeholder="Livros" />
          <button class="btn primary" id="btnAbrirNovoLivro">Adicionar novo livro</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="data-table" id="tabelaLivros">
          <thead>
            <tr>
              <th>Capa</th>
              <th>TÃ­tulo</th>
              <th>Autor</th>
              <th>GÃªnero</th>
              <th>Ano</th>
              <th>Status</th>
              <th style="width:100px">AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Gerenciar UsuÃ¡rios -->
    <section id="usuarios" class="section-pad">
      <div class="section-title-row">
        <h2>Gerenciar UsuÃ¡rios</h2>
        <div class="search-row">
          <input id="buscaUsuarios" type="search" placeholder="UsuÃ¡rios" />
          <button class="btn primary" id="btnAbrirNovoUsuario">Adicionar novo usuÃ¡rio</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="data-table" id="tabelaUsuarios">
          <thead>
            <tr>
              <th>Foto</th>
              <th>Nome</th>
              <th>MatrÃ­cula</th>
              <th>Tipo</th>
              <th>Telefone</th>
              <th>E-mail</th>
              <th>Senha</th>
              <th style="width:100px">AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- EmprÃ©stimos e DevoluÃ§Ãµes -->
    <section id="emprestimos" class="section-pad">
      <div class="section-title-row">
        <h2>EmprÃ©stimos e DevoluÃ§Ãµes</h2>
        <div class="search-row">
          <input id="buscaEmprestimos" type="search" placeholder="Pesquisar emprÃ©stimos" />
          <button class="btn primary" id="btnAbrirEmprestimo">Fazer emprÃ©stimo</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="data-table" id="tabelaEmprestimos">
          <thead>
            <tr>
              <th>TÃ­tulo do Livro</th>
              <th>UsuÃ¡rio</th>
              <th>Data de EmprÃ©stimo</th>
              <th>Data de DevoluÃ§Ã£o</th>
              <th style="width:80px">AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- MODAIS -->
  <!-- Livro -->
  <dialog id="modalLivro" class="modal">
    <form method="dialog" class="modal-card" id="formLivro">
      <h3 id="livroModalTitulo">Novo Livro</h3>
      <div class="grid">
        <label>TÃ­tulo <input id="livroTitulo" type="text" required></label>
        <label>Autor <input id="livroAutor" type="text" required></label>
        <label>GÃªnero <input id="livroGenero" type="text"></label>
        <label>Ano <input id="livroAno" type="number" min="1500" max="2100"></label>
        <label>Capa (imagem) <input id="livroCapa" type="file" accept="image/*"></label>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn" id="cancelarLivro">Cancelar</button>
        <button class="btn primary" id="salvarLivroBtn" value="default">Salvar</button>
      </div>
    </form>
  </dialog>

  <!-- UsuÃ¡rio -->
  <dialog id="modalUsuario" class="modal">
    <form class="modal-card" id="formUsuario" novalidate>
      <h3 id="usuarioModalTitulo">Novo UsuÃ¡rio</h3>
      <div class="grid">
        <label>Nome
          <input id="usuarioNome" type="text" required />
        </label>
        <label>MatrÃ­cula
          <input id="usuarioMatricula" type="text" pattern="\\d{5}" maxlength="5"
                 title="A matrÃ­cula deve conter exatamente 5 dÃ­gitos numÃ©ricos" required />
        </label>
        <label>Tipo
          <select id="usuarioTipo" required>
            <option value="Aluno">Aluno</option>
            <option value="Professor">Professor</option>
          </select>
        </label>
        <label>Telefone
          <input id="usuarioTelefone" type="tel" pattern="\\d{11}" maxlength="11"
                 title="Digite apenas nÃºmeros â€” 11 dÃ­gitos (ex: 11987654321)" required />
        </label>
        <label>Email
          <input id="usuarioEmail" type="email" placeholder="exemplo@email.com"
                 title="Digite um endereÃ§o de e-mail vÃ¡lido" required />
        </label>
        <label>Senha
            <input id="usuarioSenha" type="password" required minlength="4" />
        </label>
        <label>Foto
          <input id="usuarioFoto" type="file" accept="image/*" />
        </label>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn" id="fecharUsuarioModal" formnovalidate>Cancelar</button>
        <button type="submit" class="btn primary" id="salvarUsuarioBtn">Salvar</button>
      </div>
    </form>
  </dialog>

  <!-- EmprÃ©stimo -->
  <dialog id="modalEmprestimo" class="modal">
    <form method="dialog" class="modal-card" id="formEmprestimo">
      <h3>Novo EmprÃ©stimo</h3>
      <div class="grid">
        <label>Livro
          <select id="emprestimoLivro" required></select>
        </label>
        <label>UsuÃ¡rio
          <select id="emprestimoUsuario" required></select>
        </label>
        <label>Data de EmprÃ©stimo
          <input id="dataEmprestimo" type="date" required />
        </label>
        <label>Data de DevoluÃ§Ã£o
          <input id="dataDevolucao" type="date" required />
        </label>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn" id="cancelarEmprestimo">Cancelar</button>
        <button class="btn primary" id="salvarEmprestimoBtn" value="default">Salvar</button>
      </div>
    </form>
  </dialog>

  <!-- JS comum e por aba -->
  <script src="core.js"></script>
  <script src="resumo.js"></script>
  <script src="livros.js"></script>
  <script src="usuarios.js"></script>
  <script src="emprestimos.js"></script>
</body>
</html>
